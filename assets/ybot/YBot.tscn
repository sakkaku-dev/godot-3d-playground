[gd_scene load_steps=16 format=2]

[ext_resource path="res://assets/DefaultBot.gd" type="Script" id=1]
[ext_resource path="res://assets/ybot/yBot.gltf" type="PackedScene" id=2]
[ext_resource path="res://assets/ybot/YBot.gd" type="Script" id=3]
[ext_resource path="res://scripts/input/PlayerInput.gd" type="Script" id=4]
[ext_resource path="res://scenes/Camera.tscn" type="PackedScene" id=5]
[ext_resource path="res://scripts/state_machine/StateMachine.gd" type="Script" id=6]
[ext_resource path="res://scripts/states/Idle.gd" type="Script" id=7]
[ext_resource path="res://scripts/states/Move.gd" type="Script" id=8]

[sub_resource type="AnimationNodeAnimation" id=1]
animation = "Idle"

[sub_resource type="AnimationNodeBlend2" id=2]

[sub_resource type="AnimationNodeAnimation" id=3]
animation = "Run"

[sub_resource type="AnimationNodeAnimation" id=4]
animation = "Walk"

[sub_resource type="AnimationNodeTransition" id=5]
input_count = 2
input_0/name = "walk"
input_0/auto_advance = false
input_1/name = "run"
input_1/auto_advance = false

[sub_resource type="AnimationNodeBlendTree" id=6]
graph_offset = Vector2( -550, 4 )
nodes/Idle/node = SubResource( 1 )
nodes/Idle/position = Vector2( -320, 0 )
nodes/Move/node = SubResource( 2 )
nodes/Move/position = Vector2( 60, 40 )
nodes/Run/node = SubResource( 3 )
nodes/Run/position = Vector2( -320, 220 )
nodes/Walk/node = SubResource( 4 )
nodes/Walk/position = Vector2( -320, 120 )
nodes/WalkRun/node = SubResource( 5 )
nodes/WalkRun/position = Vector2( -120, 120 )
nodes/output/position = Vector2( 360, 60 )
node_connections = [ "output", 0, "Move", "WalkRun", 0, "Walk", "WalkRun", 1, "Run", "Move", 0, "Idle", "Move", 1, "WalkRun" ]

[sub_resource type="CapsuleShape" id=7]
radius = 0.325762

[node name="YBot" type="KinematicBody"]
script = ExtResource( 3 )
camera_path = NodePath("Camera")

[node name="AnimationTree" type="AnimationTree" parent="."]
tree_root = SubResource( 6 )
anim_player = NodePath("../yBot/AnimationPlayer")
active = true
parameters/Move/blend_amount = 0.0
parameters/WalkRun/current = 1

[node name="yBot" parent="." instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 3.12639e-13, 0, -3.12639e-13, 1, 0, 0, 1.13687e-13 )
script = ExtResource( 1 )

[node name="Body" type="CollisionShape" parent="."]
transform = Transform( 1, 0, 0, 0, -1.62921e-07, -1, 0, 1, -1.62921e-07, 0, 0.878795, 0 )
shape = SubResource( 7 )

[node name="PlayerInput" type="Node" parent="."]
script = ExtResource( 4 )

[node name="StateMachine" type="Node" parent="."]
script = ExtResource( 6 )
player_path = NodePath("..")
input_path = NodePath("../PlayerInput")
initial_state = NodePath("Move")

[node name="Move" type="Node" parent="StateMachine"]
script = ExtResource( 8 )
idle_state_path = NodePath("../Idle")

[node name="Idle" type="Node" parent="StateMachine"]
script = ExtResource( 7 )
move_state_path = NodePath("../Move")

[node name="Camera" parent="." instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.63203, 0 )

[editable path="yBot"]
